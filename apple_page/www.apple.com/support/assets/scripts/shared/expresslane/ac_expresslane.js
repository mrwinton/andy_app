var AOS=window.AOS||{};AOS.ACExpressLane=Class.create({initialize:function(){this.elUrl="https://getsupport.apple.com/",this.sasoUrl="https://getsupport.apple.com/GetSASO",this.exceptions={erep:["/support/ipodnano_replacement/","/support/imac-harddrive/","/support/macbook-bottomcase/","/support/headphones/replacementprogram/","/support/usbadapter/exchangeprogram/","/support/macbookair-flashdrive/","/support/iphone5-sleepwakebutton/","/support/usbadapter-european/","/support/iphone5-battery/","/support/macbookpro-videoissues/","/support/imac-harddrive-3tb/","/support/iphone6plus-isightcamera/","/support/ac-wallplug-adapter/","/support/usbc-chargecable/"],cups:["/support/contact/"],arp:["/support/repair/"]};var e=window.location.pathname.replace(/(\w+\.\w+)$/,"");this.currentLocation=e.substring(e.indexOf("/support"))},createHiddenValue:function(e){var i,o,a=this.getCaller(e);if(i=e.splice(1),a&&i.push(a),!i.length)throw new Error("URL keys missing");var t=function(){var e,o=new RegExp("pfc|pgf|sg","i");return e=i.filter(function(e){return e.match(o)}),e.length||~i.join("").indexOf("prkeys")?void 0:"undefined"!=typeof ACCategoryKey?"prkeys:"+ACCategoryKey:void 0};o=t(),o&&i.push(o);for(var s=document.createDocumentFragment(),r=i.length-1,p=0;r>=p;p++)if(!i[p].match(/locale|lc/)){var c=i[p].split(":").map(function(e){return e.trim()});if(c.length&&c.length>1){var n=document.createElement("input");n.type="hidden",n.name="prkeys"===c[0].toLowerCase()?c[0].toUpperCase():this.convertKey(c[0]),n.value=c[1],s.appendChild(n)}}return s},createForm:function(e,i){e=e.split(",");var o=document.createDocumentFragment(),a=document.createElement("form");return a.style.display="none",a.method=i==this.sasoUrl?"GET":"POST",a.action=i,a.appendChild(this.createHiddenValue(e)),o.appendChild(a)},getCaller:function(e){function i(){for(var e in a)if(a.hasOwnProperty(e)){var i=a[e];if(~i.indexOf(t))return s+e}return s+"psp"}var o,a=this.exceptions,t=this.currentLocation,s="caller:",r=!!~e.indexOf("#saso");return r?s+"saso":(o=e.filter(function(e){return e.toLowerCase().match(/caller.+/)}),o.length?void 0:i())},convertKey:function(e){var i="";switch(e){case"cid":i="category_id";break;case"sid":i="symptom_id";break;case"scid":i="sc_cid";break;case"pfc":case"pgf":case"sg":i=e.toUpperCase();break;default:i=e}return i},trackClick:function(e){"undefined"!=typeof SCReporting&&SCReporting.trackClick(e,this.currentLocation)}}),AOS.ACExpressLane.version="3.4.1",AOS.LinkReplacer=Class.create({initialize:function(){},keyLink:$H({checkcoverage:"https://selfsolve.apple.com/agreementWarrantyDynamic.do",repairstatus:"https://selfsolve.apple.com/repairstatus/main.do",registeragreement:"https://selfsolve.apple.com/RegisterAgreement.do?skip=yes",getagreement:"https://selfsolve.apple.com/GetAgreements.do"}),replaceLink:function(){this.keyLink.each(function(e){var i=$$("a[href*='#"+e.key+"']");i.length>0&&i.each(function(i){i.writeAttribute("href",e.value),i.observe("click",function(){AOS.ACExpressLane.trackClick(e.key)})})})}}),document.observe("dom:loaded",function(){var e=new AOS.ACExpressLane,i=new AOS.LinkReplacer;$$("a[href='#el'],a[href*='#cas']").each(function(i){var o=i.readAttribute("href");i.writeAttribute("href","javascript:void(0)"),i.insert({before:e.createForm(o,e.elUrl)}),i.observe("click",function(){e.trackClick("Express Lane"),i.previous().submit()}.bind(this))}),$$("a[href*='#saso']").each(function(i){var o=i.readAttribute("href");i.writeAttribute("href","javascript:void(0)"),i.insert({before:e.createForm(o,e.sasoUrl)}),i.observe("click",function(){e.trackClick("saso"),i.previous().submit()}.bind(this))}),i.replaceLink()});
